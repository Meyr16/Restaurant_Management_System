import time
import board
import digitalio

# Variablen zur Z채hlung
Service_erwuenscht = 0
Rechnung_erwuenscht = 0

# Taster Setup (Pull-down)
button_service = digitalio.DigitalInOut(board.GP14)
button_service.direction = digitalio.Direction.INPUT
button_service.pull = digitalio.Pull.DOWN

button_rechnung = digitalio.DigitalInOut(board.GP15)
button_rechnung.direction = digitalio.Direction.INPUT
button_rechnung.pull = digitalio.Pull.DOWN

# RGB LED Setup (gemeinsame Kathode: HIGH = AN)
led_rot = digitalio.DigitalInOut(board.GP16)
led_rot.direction = digitalio.Direction.OUTPUT

led_gruen = digitalio.DigitalInOut(board.GP17)
led_gruen.direction = digitalio.Direction.OUTPUT

led_blau = digitalio.DigitalInOut(board.GP18)
led_blau.direction = digitalio.Direction.OUTPUT

# Hilfsfunktion: RGB setzen
def set_rgb(rot, gruen, blau):
    led_rot.value = rot
    led_gruen.value = gruen
    led_blau.value = blau

# Start: Blau
set_rgb(False, False, True)

# Entprell-Zeit
debounce_time = 0.2

print("Programm gestartet...")

while True:
    gedrueckt = False

    if button_service.value:
        Service_erwuenscht += 1
        print("Service erw체nscht:", Service_erwuenscht)
        set_rgb(False, True, False)  # Gr체n
        gedrueckt = True
        time.sleep(debounce_time)
        while button_service.value:
            time.sleep(0.01)

    if button_rechnung.value:
        Rechnung_erwuenscht += 1
        print("Rechnung erw체nscht:", Rechnung_erwuenscht)
        set_rgb(True, False, False)  # Rot
        gedrueckt = True
        time.sleep(debounce_time)
        while button_rechnung.value:
            time.sleep(0.01)

    if not gedrueckt:
        set_rgb(False, False, True)  # Blau

    time.sleep(0.1)
